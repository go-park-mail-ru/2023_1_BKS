server {
    listen 80;
    location "/" {
        add_header 'Access-Control-Allow-Origin' '*';
        root "/front/";
        proxy_set_header Host $host;
    }
    server_name appuniq.ru www.appuniq.ru;


    location "/api" {
        location "/api/sort" {
            location "/api/sort/new" {
                add_header 'Access-Control-Allow-Origin' '*';
                proxy_pass http://post_service:8082;
                proxy_set_header Host $host;
            }
        }

        location "/api/user" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://user_service:8080;
            proxy_set_header Host $host;
        }

        location "/api/auth" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://auth_service:8082;
            proxy_set_header Host $host;
        }

        location "/api/post" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://post_service:8082;
            proxy_set_header Host $host;
        }

        location "/api/close" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://post_service:8082;
            proxy_set_header Host $host;
        }

        location "/api/cart" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://post_service:8082;
            proxy_set_header Host $host;
        }

        location "/api/favorite" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://post_service:8082;
            proxy_set_header Host $host;
        }

        location "/api/search" {
            add_header 'Access-Control-Allow-Origin' '*';
            proxy_pass http://post_service:8082;
            proxy_set_header Host $host;
        }

    }

}
