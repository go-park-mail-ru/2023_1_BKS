# Entity

```
type Entity struct {
	marker string
	name string
	list map[string]any
}

func (en *Entity) GetMarker() string

func (en *Entity) GetName() string

func (en *Entity) GetList() map[string]any

func (en *Entity) New(name string, list map[string]any) Entity
```

Где доступен: Данный класс доступен на всех слоях.
Обозначения: name - имя структуры, list - перечисление полей, где ключ название поля, marker - тип действий необходимый для записи данных в БД (Create, Edit, Delete) или для поиска и возврата (Search) с list заполненым по таким правилам: пустые значениями типа поля обозначают искомое, заполненые параметры по которым ведется поиск.

Для чего нужен: Он реализует абстракцию структуры от ее типа. Это позволяет более эффиктивно взаимодействовать с различными подсистемами и БД.

Требования: Необходимо при создании экземпляра структуры валидировать, не только логику работы, но и тип данных отдельного поля(Можно реализовать через case с перечислением поле - требуемый тип данных).

Пример полезности: Структура User и Post при записи/изменении(set) в БД могут иметь одинаковый принцип работы, без данной абстракции, это будет проблематично реализовать, в чем проблематика можете понять при прочтении первого варианта архитектуры.

# Usecase

```
type Hash interface {

}
```
https://pkg.go.dev/hash

Где доступен: Данный класс доступен во всех слоях кроме entity.

Обозначения: Hash - это общий интерфейс, реализованный всеми хэш-функциями. Относится к std.

Для чего нужен: Для шифрования данных.

Пример полезности: Безопасность.

```
type LogicValidator interface {
	Valid() error
}
```


# Repository

## Базы данных

```
type ModelsSQL interface {
	|||
}
```
Где доступен: Данный класс доступен в слое Repository.

Обозначения: name - имя структуры, list - перечисление полей, где ключ название поля.

Для чего нужен: Он реализует абстракцию допустимых БД.

Требования: Изменение допустимых БД реализуется с помощью добавления/удаления данного типа.

Пример полезности: Нет хардкодинга БД.



```
type DataBaseSQL[T ModelsSQL] struct {
    db	*sql.DB
}
```
Где доступен: Данный класс доступен в слое Repository.

Обозначения: 

Для чего нужен: Он реализует абстракцию допустимых БД.

Требования: Изменение допустимых БД реализуется с помощью добавления/удаления данного типа.

Пример полезности: Нет хардкодинга БД.

Методы данного класса:
```
func (en *DataBaseSQL) Get() (T, error)

func (en *DataBaseSQL) Set(Entity) error
```
Второй вариант реализации не уверен насколько основанно все делать в set, по сути вся разница в командах Insert, Delite, Update но не знаю насколько их подменять удобно будет, поэтому, появился вот такой вариант(но первый предпочтительней):

```
func (en *DataBaseSQL) Get() (T, error)

func (en *DataBaseSQL) Create(Entity) error

func (en *DataBaseSQL) Edit(Entity) error

func (en *DataBaseSQL) Delite(Entity) error
```



